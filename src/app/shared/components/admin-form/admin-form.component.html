<div class="animated fadeIn">
  <div>
    <div class="card">
      <div class="card-header" style="text-align: center;">
        <h2>Administrador</h2>
      </div>

      <div class="card-body">

        <form class="mt-3 col-md-8 offset-md-2" (ngSubmit)="onSave(adminForm.value)" [formGroup]="adminForm">
          <div class="row">
            <div class="col-md-3">
              <label>Foto: </label>
              <img [src]="fotoUser" alt="Suba una foto" width="100%">
              <input type="file" class="form-control" placeholder="Suba una foto" formControlName="foto"
              accept=".png ,.jpg"  [class]="isValidField('foto')" (change)="uploadFoto($event)" >
              <div class="invalid-feedback">
                <span *ngIf="adminForm.get('foto').errors?.required">
                  Este campo es requerido.
                </span>
              </div>
              <div class="spinner-border" role="status" *ngIf="progreso==true">
                <span class="visually-hidden" >Cargando...</span>
              </div>
              <input #FotoUrlUser  type="text" [value]="urlFoto |async" >
          </div>
  
            <div class="col-md-9">
              <div class="form-row">
                <div class="form-group col-md-6">
                  <label>Nombres: </label>
                  <input type="text" class="form-control" placeholder="Juan David" formControlName="nombre"
                    [class]="isValidField('nombre')">
                  <div class="invalid-feedback">
                    <span *ngIf="adminForm.get('nombre').errors?.required">
                      Este campo es requerido.
                    </span>
                  </div>
                </div>
                <div class="form-group col-md-6">
                  <label>Apellidos: </label>
                  <input type="text" class="form-control" placeholder="Peña Herrera" formControlName="apellido"
                    [class]="isValidField('apellido')">
                  <div class="invalid-feedback">
                    <span *ngIf="adminForm.get('apellido').errors?.required">
                      Este campo es requerido.
                    </span>
                  </div>
                </div>
              </div>
              <div class="form-row">
                <div class="form-group col-md-6">
                  <label>Email: </label>
                  <input type="text" class="form-control" placeholder="correo01@epn.edu.ec" formControlName="email"
                    [class]="isValidField('email')">
                  <div class="invalid-feedback">
                    <span *ngIf="adminForm.get('email').errors?.required">
                      Este campo es requerido.
                    </span>
                    <span *ngIf="adminForm.get('email').errors?.pattern">
                      Ingrese un email valido.
                    </span>
                  </div>
                </div>
                <div class="form-group col-md-6">
                  <label>Carrera: </label>
                  <select id="carreraNombre" class="form-control" formControlName="carreraNombre" [class]="isValidField('carreraNombre')">
                    <option select value="TSASA">TSASA - Agua y Saneamiento Ambiental</option>
                    <option value="TSDS">TSDS - Desarrollo de Software</option>
                    <option value="TSRT">TSRT - Redes y Telecomunicaciones</option>
                    <option value="TSEM">TSEM - Electromecánica</option>
                  </select>
                  <div class="invalid-feedback">
                    <span *ngIf="adminForm.get('carreraNombre').errors?.required">
                      Este campo es requerido.
                    </span>
                  </div>
                </div>
              </div>
    
              
              <div class="form-row">
               
                <div class="form-group col-md-6">
                  <label>Constraseña: </label>
                  <input type="password" class="form-control" placeholder="una-contraseña" formControlName="password"
                    [class]="isValidField('password')">
                  <div class="invalid-feedback">
                    <span *ngIf="adminForm.get('password').errors?.required">
                      Este campo es requerido y minimo 6 dígitos.
                    </span>
                    <span *ngIf="adminForm.get('password').errors?.minLength">
                      Ingrese 6 o mas dígitos.
                    </span>
                  </div>
                </div>
                <div class="form-group col-md-6">
                  <label>Numero único EPN: </label>
                  <input type="text" class="form-control" placeholder="202030271" formControlName="numUnico"
                    [class]="isValidField('numUnico')">
                  <div class="invalid-feedback">
                    <span *ngIf="adminForm.get('numUnico').errors?.required">
                      Este campo es requerido.
                    </span>
                  </div>
                </div>
    
              </div>
    
              <div class="form-row">
                <div class="form-group col-md-6">
                  <label>Semestre de referencia: </label>
                  <select id="semestreRef" class="form-control" formControlName="semestreRef"
                    [class]="isValidField('semestreRef')">
                    <option value="1">1ro</option>
                    <option value="2">2do</option>
                    <option value="3">3ro</option>
                    <option value="4">4to</option>
                    <option value="5">5to</option>
                    <option value="6">Egresado o Graduado</option>
                  </select>
                  <div class="invalid-feedback">
                    <span *ngIf="adminForm.get('semestreRef').errors?.required">
                      Este campo es requerido.
                    </span>
                  </div>
                </div>
                <div class="form-group col-md-6">
                  <label>Teléfono o Celular: </label>
                  <input type="text" class="form-control" placeholder="2877333 / 0987654321" formControlName="telefono"
                    [class]="isValidField('telefono')">
                  <div class="invalid-feedback">
                    <span *ngIf="adminForm.get('telefono').errors?.required">
                      Este campo es requerido.
                    </span>
                  </div>
                </div>
              </div>
    
              <div class="form-row">
                <div class="form-group col-md-6">
                  <label>El rol sera: </label>
                  <input type="text" class="form-control" placeholder="Administrador"
                   value="Administrador" disabled>´
                </div>
              </div>


            </div>
          </div>
         
          <button type="submit" class="btn bg-success btn-block text-light" style="width: 50%; margin: auto;">Guardar Administrador</button>
        </form>
        <button type="button" class="btn btn-primary mt-2" (click)="onGoBackToList()">Regresar a la lista</button>

      </div>
    </div>
  </div>
</div>